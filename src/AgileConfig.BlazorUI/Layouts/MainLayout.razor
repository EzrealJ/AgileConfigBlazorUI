@namespace AgileConfig.BlazorUI.Layouts
@using Microsoft.AspNetCore.Components.Authorization
@inherits LayoutComponentBase

<AuthorizeView >
    <Authorized>
        <BasicLayout Logo="@("./assets/logo.svg")" Title="@Consts.Production.PRODUCTION_NAME" MenuData="_menuData">

            <RightContentRender>
                <AgileConfig.BlazorUI.Components.RightContent UserName=@UserName
                                                              OnLangItemSelected=@OnLangItemSelected
                                                              OnUserItemSelected=@OnUserItemSelected />
            </RightContentRender>
            <FooterRender>
                <FooterView Copyright=@Consts.Production.PRODUCTION_NAME_DESCRIPTION Links="Links"></FooterView>
            </FooterRender>
            <ChildContent>
                @Body
            </ChildContent>
        </BasicLayout>
        <SettingDrawer />
    </Authorized>
    <NotAuthorized>
        @Logout()
    </NotAuthorized>
</AuthorizeView>

<style>
    body {
        margin: 0;
    }
</style>



@code
{

    public LinkItem[] Links { get; set; } =
                                                                    {
        new LinkItem
        {
            Key = "AgileConfig",
            Title = "AgileConfig",
            Href = "https://github.com/dotnetcore/AgileConfig",
            BlankTarget = true,
        },
        new LinkItem
        {
            Key = "github",
            Title = (RenderFragment)(@<Icon Type="github" />),
            Href = "https://github.com/EzrealJ/AgileConfigBlazorUI",
            BlankTarget = true,
        },
        new LinkItem
        {
            Key = "Blazor",
            Title = "Blazor",
            Href = "https://dotnet.microsoft.com/apps/aspnet/web-apps/blazor?WT.mc_id=DT-MVP-5003987",
            BlankTarget = true,
        }
    };
}